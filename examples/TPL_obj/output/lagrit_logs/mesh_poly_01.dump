 
 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V3.320   Linux          *                 
*               *    date_compile: 2020/10/08 Static          *                 
*               *    Run Time: 2022/Sep 21  17:25:40          *                 
*               *    Manual:   http://lagrit.lanl.gov         *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
 
                               -----oOo-----                                    
             LaGriT V3 LA-CC-15-069  https://github.com/lanl/LaGriT             
  Copyright 2016. Triad National Security, LLC.  All rights reserved. This      
  program was produced under U.S. Government contract 89233218CNA000001         
  for Los Alamos National Laboratory (LANL), which is operated by Triad         
  National Security, LLC for the U.S. Department of Energy/National Nuclear     
  Security Administration.  All rights in the program are reserved by Triad     
  National Security, LLC, and the U.S. Department of Energy/National Nuclear    
  Security Administration. The Government is granted for itself and others      
  acting on its behalf a nonexclusive, paid-up, irrevocable worldwide license   
  in this material to reproduce, prepare derivative works, distribute copies    
  to the public, perform publicly and display publicly, and to permit others to 
  do so. This software is open source and available under the BSD-3 License.    
                               -----oOo-----                                    
 
 
Output log file: lagrit_logs/mesh_poly_01.out                                   
Command log file: lagrit_logs/mesh_poly_01.log                                  
 
 Enter a command
                                                                                
# This LaGriT Scripts reads in the points generated by the Poisson-Disc         
 Enter a command
# sampling method. Then it reads in the intersection points generated           
 Enter a command
# in dfnGEn. All points in the Poisson-Disc set that are too close to           
 Enter a command
# the line of intersection are removed. Then the mesh is written out            
 Enter a command
# in binary LaGriT and AVS UCD format.                                          
 Enter a command
                                                                                
# LaGriT Parameter file                                                         
 Enter a command
infile parameters_1.mlgi                                                        
define/ID/1                                                                     
define/OUTFILE_GMV/mesh_1.gmv                                                   
define/OUTFILE_AVS/mesh_1.inp                                                   
define/OUTFILE_LG/mesh_1.lg                                                     
define/POLY_FILE/poly_1.inp                                                     
define/QUAD_FILE/tmp_quad_1.inp                                                 
define/EXCAVATE_FILE/tmp_excavate_1.inp                                         
define/PRE_FINAL_FILE/tmp_pre_final_1.inp                                       
define/PRE_FINAL_MASSAGE/tmp_pre_final_massage_1.gmv                            
define/H_SCALE/1.000000e-01                                                     
define/H_EPS/1.000000e-08                                                       
define/H_SCALE2/1.500000e-01                                                    
define/H_EXTRUDE/5.000000e-02                                                   
define/H_TRANS/-0.001615                                                        
define/H_PRIME/4.000000e-02                                                     
define/THETA/36.115523791058                                                    
define/X1/-109.382067395046                                                     
define/Y1/-11.643166767916                                                      
define/Z1/0.000000000000                                                        
define/X2/109.382067395046                                                      
define/Y2/11.643166767916                                                       
define/Z2/-0.000000000000                                                       
define/FAMILY/1                                                                 
finish                                                                          
 Enter a command
                                                                                
# Name of input files that contains the lines of intersection                   
 Enter a command
# and Poisson Points                                                            
 Enter a command
                                                                                
define/POINT_FILE/points_1.xyz                                                  
 Enter a command
define/LINE_FILE/intersections_1.inp                                            
 Enter a command
                                                                                
# connectivity file used in mesh checking                                       
 Enter a command
define/OUTPUT_INTER_ID_SSINT/id_tri_node_1.list                                 
 Enter a command
                                                                                
#### READ IN POISSON DISC POINTS                                                
 Enter a command
                                                                                
# Create a mesh object named mo_pts                                             
 Enter a command
cmo/create/mo_pts///triplane                                                    
 Enter a command
                                                                                
# Read in the three column x,y,z vertex data                                    
 Enter a command
cmo/readatt/mo_pts/xic,yic,zic/1,0,0/POINT_FILE                                 
readatt: reading     3 values from each line.                                   
readatt filling attribute:       1  xic                                         
readatt filling attribute:       2  yic                                         
readatt filling attribute:       3  zic                                         
cmo/status/mo_pts brief                                                         
 
The current-mesh-object(CMO) is: mo_pts                                         
 
  1 Mesh Object name: mo_pts                                                    
    number of nodes =          4539        number of elements =            0    
    dimensions geometry =         2        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
readatt added nodes          1 to       4539                                    
File values used:     3 out of     3 from each line.                            
File values written to     3 out of     3 attributes.                           
END readatt: reading     3 values from            4539 lines.                   
 Enter a command
                                                                                
# Send some diagnostic output to the screen                                     
 Enter a command
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mo_pts                                         
 
  1 Mesh Object name: mo_pts                                                    
    number of nodes =          4539        number of elements =            0    
    dimensions geometry =         2        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                   active    
 
 
 Enter a command
cmo/printatt/mo_pts/-xyz-/minmax                                                
Warning: nelements = 0                                                          
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic               -4.898054550E+00  5.106380283E+00 1.000443483E+01      4539  
 yic               -6.327293628E+00  1.355571883E+00 7.682865511E+00      4539  
 zic               -1.142967658E-01 -1.142967658E-01 0.000000000E+00      4539  
 
 Enter a command
                                                                                
# Set imt (integer material type) of all vertices to ID                         
 Enter a command
cmo/setatt/mo_pts/imt/1 0 0/ID                                                  
Warning: nelements = 0                                                          
      4539 values reset for attribute imt1                                      
 
 Enter a command
# Set itp of all vertices to 0                                                  
 Enter a command
cmo/setatt/mo_pts/itp/1 0 0/0                                                   
Warning: nelements = 0                                                          
      4539 values reset for attribute itp1                                      
 
 Enter a command
                                                                                
# This should not do anything. If there were 2 or more vertices within distance 
 Enter a command
# epsilon of one another, this would remove all but one. Since the distributions
 Enter a command
# should be well behaved, it should not filter/delete any vertices.             
 Enter a command
                                                                                
filter/1 0 0                                                                    
FILTER:Use internal epsilonl value =   0.999999993923E-08                       
FILTER:Dudding duplicate points:           0                                    
 Enter a command
rmpoint/compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is         4539                                        
RMPOINT: new element count is          0                                        
 Enter a command
#                                                                               
 Enter a command
# Connect the 2D planar (XY-plane) vertices to create a Delaunay triangular mesh
 Enter a command
# with an exterior boundary that is the convex hull of the vertices in mo_pts.  
 Enter a command
connect                                                                         
 Coordinates of enclosing triangle are:                                         
          -0.22406D+02-0.18620D+02-0.11430D+00                                  
           0.22614D+02-0.19772D+02-0.11430D+00                                  
           0.10520D+00 0.42534D+02-0.11430D+00                                  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
recon/0                                                                         
RECON2D reconnection loop2d:     1                                              
RECON: done.                                                                    
finish                                                                          
LaGriT FINISH: recon 0 for connect 2d                                           
 
 Enter a command
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
 Enter a command
                                                                                
# Diagnostic output to the screen on triangle aspect ratio and volume (area)    
 Enter a command
quality                                                                         
 
epsilonl, epsilonaspect:   2.8008895E-12  2.1972928E-35                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :         20                          
elements with aspect ratio b/w .5  and 1. :       8860                          
min aspect ratio =  0.4194E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   3.5330658E-11                                                     
---------------------------------------                                         
element volumes b/w  0.1141E-02 and  0.2833E-02:      3136                      
element volumes b/w  0.2833E-02 and  0.7037E-02:      3376                      
element volumes b/w  0.7037E-02 and  0.1748E-01:      1791                      
element volumes b/w  0.1748E-01 and  0.4341E-01:       531                      
element volumes b/w  0.4341E-01 and  0.1078E+00:        46                      
min volume =   1.1407390E-03  max volume =   1.0783088E-01                      
-----------------------------------------------------------                     
      8880 total elements evaluated.                                            
 
 Enter a command
                                                                                
# Add cell attribute for area and aspect ratio                                  
 Enter a command
cmo/addatt/mo_pts/area/tri_area                                                 
ADDATT/area: creating new attribute: tri_area                                   
 Enter a command
quality/aspect/y                                                                
cmo/addatt//aratio/VDOUBLE/scalar/nelements                                     
finish                                                                          
 
epsilonl, epsilonaspect:   2.8008895E-12  2.1972928E-35                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :         20                          
elements with aspect ratio b/w .5  and 1. :       8860                          
min aspect ratio =  0.4194E+00  max aspect ratio =  0.1000E+01                  
-----------------------------------------------------------                     
      8880 total elements evaluated.                                            
 
 Enter a command
                                                                                
# Apply two iterations of Laplace smoothing and Lawson flipping to smooth the me
 Enter a command
# and recover the Delaunay triangulation.                                       
 Enter a command
assign///maxiter_sm/1                                                           
cannot find global variable : maxiter_sm                                        
maxiter_sm                       =          1                                   
 Enter a command
smooth                                                                          
SMOOTH: position option                                                         
nodes in point set  =       4539                                                
SMOOTH: Smooth 2D triangular mesh using ESUG                                    
 Min. area BEFORE smoothing= 0.1140739E-02                                      
 Max. area BEFORE smoothing= 0.1078309E+00                                      
Iteration=   1; root mean square error= 0.2210320E-01                           
 Min. area AFTER smoothing= 0.1334925E-02                                       
 Max. area AFTER smoothing= 0.7057050E-01                                       
recon 0                                                                         
RECON2D reconnection loop2d:     1                                              
Recon2d: iteration number=          1 number of flips=         72               
RECON: done.                                                                    
 Enter a command
smooth                                                                          
SMOOTH: position option                                                         
nodes in point set  =       4539                                                
SMOOTH: Smooth 2D triangular mesh using ESUG                                    
 Min. area BEFORE smoothing= 0.1334925E-02                                      
 Max. area BEFORE smoothing= 0.7057050E-01                                      
Iteration=   1; root mean square error= 0.1411731E-01                           
 Min. area AFTER smoothing= 0.1364094E-02                                       
 Max. area AFTER smoothing= 0.6299528E-01                                       
recon 1                                                                         
RECON2D reconnection loop2d:     1                                              
Recon2d: iteration number=          1 number of flips=         21               
Max send:        352       487                                                  
Max send:        352       488                                                  
Min send:        521       724                                                  
Matbld0tri: total neg         6 mincoef=  -4.2634514E-02 maxcoef=   3.2110309E-0
                                                                               1
Negative coeff2d:        sort   edge     vor_coeff        row_node  col_node    
Negative coeff2d:          1       525 -4.2634514E-02       107       106       
Negative coeff2d:          2       521 -4.2634514E-02       106       107       
Negative coeff2d:          3       361 -3.6192371E-03        74        75       
Negative coeff2d:          4       365 -3.6192371E-03        75        74       
Negative coeff2d:          5       575 -1.6431638E-03       117       116       
Negative coeff2d:          6       571 -1.6431638E-03       116       117       
Edge iteration refine_edge_2d:          1         3                             
Edge-refined tris: before=      8880 after=      8883                           
Min send:          1         1                                                  
Max send:        352       487                                                  
Max send:        352       488                                                  
RECON2D reconnection loop2d:     2                                              
Min send:          1         1                                                  
Max send:        352       487                                                  
Max send:        352       488                                                  
RECON: done.                                                                    
 Enter a command
                                                                                
##### DEBUG #####                                                               
 Enter a command
# comments out to dump poisson initial triangulation                            
 Enter a command
# dump / avs2 / output_1.inp / mo_pts                                           
 Enter a command
##### DEBUG #####                                                               
 Enter a command
                                                                                
## Read the lines of intersections into mesh object mo_line_work                
 Enter a command
read/LINE_FILE/mo_line_work                                                     
read/avs/intersections_1.inp/mo_line_work                                       
                    2                    0
cmo/addatt/mo_line_work/a_b/VINT/scalar/nnodes/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/mo_line_work/b_a/VINT/scalar/nnodes/linear/permanent/gxaf/0.0        
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mo_line_work                                   
 
  1 Mesh Object name: mo_pts                                                    
    number of nodes =          4542        number of elements =         8883    
    dimensions geometry =         2        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_line_work                                              
    number of nodes =           363        number of elements =          358    
    dimensions geometry =         3        element type =                lin    
    dimensions topology =         1        2 nodes      2 faces      1 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
 Enter a command
                                                                                
# Extrude the line mesh a distance H_EXTRUDE in the Z direction (vector 0.,0.,1.
 Enter a command
extrude/mo_quad/mo_line_work/const/H_EXTRUDE/volume/0. 0. 1.                    
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
 Enter a command
                                                                                
                                                                                
# Translate extruded lines of intersection down slightly to excavate            
 Enter a command
# nearby points from the mesh                                                   
 Enter a command
                                                                                
trans/1 0 0/0. 0. 0./0. 0. H_TRANS                                              
cmo/addatt/mo_quad/transauto/VDOUBLE/scalar/vector/user/permanent/x/0.0         
finish                                                                          
 Enter a command
hextotet/2/mo_tri/mo_quad                                                       
 set idebug
 iremove_vol=   0 iremove_dup=   0 icheckpt=   1                                
Input Mesh type qua using option    2                                           
Element Material ID, min/max/range:          1         1         0              
Epsilon-dist, distmax, distmin:  -5.0000000E-08  2.5000000E-03  2.4654668E-03   
Epsilon-volume, volmax:   2.4914001E-09  2.4914001E-03                          
cmo/addatt/mo_tri/iign/vint/scalar/nnodes/-def-/-def-/gx/-def-                  
finish                                                                          
  WARNING: Volumes le zero not removed, nelements=        716                   
No duplicate points                                                             
  WARNING: Duplicate points not removed, nnodes =        726                    
 Enter a command
cmo/delete/mo_quad                                                              
     Released Mesh Object: mo_quad                                              
 Enter a command
# Remove (excavate) vertices from mo_pts that fall within the circumscribed sphe
 Enter a command
# Place the result in mo_excavate.                                              
 Enter a command
addmesh/excavate/mo_excavate/mo_pts/mo_tri                                      
 IN EXCAVATE: mo_excavate                     mo_tri                          
cmo/addatt/mo_tri/voronoi/-xvcen- -yvcen- -zvcen-                               
ADDATT/voronoi: creating 3 new attributes: -xvcen-  -yvcen-  -zvcen-            
finish                                                                          
cmo/addatt/mo_tri/-cradius-/VDOUBLE/scalar/nelements                            
finish                                                                          
 Done filling radii.
 IN KD-TREE SEARCH
cmo/select/mo_excavate                                                          
finish                                                                          
kdtree/build                                                                    
finish                                                                          
 Number of nodes dudded total:                   168
cmo/select/mo_excavate                                                          
finish                                                                          
geniee                                                                          
finish                                                                          
rmpoint/compress                                                                
       168 points removed and        819 elements removed.                      
RMPOINT: new point count is         4374                                        
RMPOINT: new element count is       8064                                        
finish                                                                          
 Enter a command
                                                                                
##### DEBUG #####                                                               
 Enter a command
# If meshing fails, uncomment and rerun the script to get tmp meshes,           
 Enter a command
# which are otherwise not output                                                
 Enter a command
#dump / avs2 / tmp_tri.inp / mo_tri / 1 1 1 0                                   
 Enter a command
#dump / avs2 / tmp_pts.inp / mo_pts / 1 1 1 0                                   
 Enter a command
#dump / avs2 / tmp_excavate.inp / mo_excavate / 1 1 1 0                         
 Enter a command
##### DEBUG #####                                                               
 Enter a command
                                                                                
cmo/delete/mo_tri                                                               
     Released Mesh Object: mo_tri                                               
 Enter a command
cmo/delete/mo_pts                                                               
     Released Mesh Object: mo_pts                                               
 Enter a command
                                                                                
# recompute dfield                                                              
 Enter a command
cmo/create/mo_final///triplane                                                  
 Enter a command
copypts/mo_final/mo_excavate                                                    
copypts added nodes          1 to       4374                                    
 Enter a command
# Compute the distance field between the vertices in mo_line_work (fracture inte
 Enter a command
# and the vertices in mo_final (fracture mesh vertices).                        
 Enter a command
compute/distance_field/mo_final/mo_line_work/dfield                             
 mo_final                        mo_line_work                    dfield                          
cmo/addatt/mo_final/temp_tmp_var/VDOUBLE/scalar/nnodes/linear/temporary//-1.0   
finish                                                                          
cmo/addatt/mo_final/xobj_tmp_var/VDOUBLE/scalar/nnodes/linear/temporary//-1.0   
finish                                                                          
cmo/addatt/mo_final/yobj_tmp_var/VDOUBLE/scalar/nnodes/linear/temporary//-1.0   
finish                                                                          
cmo/addatt/mo_final/zobj_tmp_var/VDOUBLE/scalar/nnodes/linear/temporary//-1.0   
finish                                                                          
cmo/addatt/mo_final/dfield/VDOUBLE/scalar/nnodes/linear/permanent//-1.0         
finish                                                                          
interpolate/voronoi/mo_final/xobj_tmp_var/1 0 0/mo_line_work/xic/keepatt        
nodes in indexed point set  =       4374                                        
cmo/addatt/mo_final/pt_gtg/VINT/scalar/nnodes//permanent/agfx/0                 
finish                                                                          
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.570234676507E+01             
 
pt_gtg attribute will be added and kept.                                        
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
           1095             1095           1095       25 %                      
           2189             2189           2189       50 %                      
           3283             3283           3283       75 %                      
           4374             4374           4374       100%                      
 
Total Source Nodes:                     363                                     
Total Sink   Nodes:                    4374                                     
 
 
interpolate/voronoi done.                                                       
 
cmo kdtree release                                                              
finish                                                                          
finish                                                                          
interpolate/voronoi/mo_final/yobj_tmp_var/1 0 0/mo_line_work/yic/keepatt        
nodes in indexed point set  =       4374                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.148583531820E+01             
 
SKIPPING POINT SEARCH... using lookup attribute pt_gtg                          
           1095             1095           1095       25 %                      
           2189             2189           2189       50 %                      
           3283             3283           3283       75 %                      
           4374             4374           4374       100%                      
 
Total Source Nodes:                     363                                     
Total Sink   Nodes:                    4374                                     
 
 
interpolate/voronoi done.                                                       
 
cmo kdtree release                                                              
finish                                                                          
finish                                                                          
interpolate/voronoi/mo_final/zobj_tmp_var/1 0 0/mo_line_work/zic                
nodes in indexed point set  =       4374                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.885703234249E+00             
 
SKIPPING POINT SEARCH... using lookup attribute pt_gtg                          
           1095             1095           1095       25 %                      
           2189             2189           2189       50 %                      
           3283             3283           3283       75 %                      
           4374             4374           4374       100%                      
 
Total Source Nodes:                     363                                     
Total Sink   Nodes:                    4374                                     
 
 
interpolate/voronoi done.                                                       
 
cmo kdtree release                                                              
finish                                                                          
finish                                                                          
math/sub/mo_final/temp_tmp_var/1,0,0/mo_final/xic/mo_final/xobj_tmp_var         
finish                                                                          
math/power/mo_final/dfield/1,0,0/mo_final/temp_tmp_var/2.0                      
finish                                                                          
math/sub/mo_final/temp_tmp_var/1,0,0/mo_final/yic/mo_final/yobj_tmp_var         
finish                                                                          
math/power/mo_final/temp_tmp_var/1,0,0/mo_final/temp_tmp_var/2.0                
finish                                                                          
math/add/mo_final/dfield/1 0 0/mo_final/dfield/mo_final/temp_tmp_var            
finish                                                                          
math/sub/mo_final/temp_tmp_var/1,0,0/mo_final/zic/mo_final/zobj_tmp_var         
finish                                                                          
math/power/mo_final/temp_tmp_var/1,0,0/mo_final/temp_tmp_var/2.0                
finish                                                                          
math/add/mo_final/dfield/1 0 0/mo_final/dfield/mo_final/temp_tmp_var            
finish                                                                          
math/power/mo_final/dfield/1,0,0/mo_final/dfield/0.5                            
finish                                                                          
cmo/delatt/mo_final/temp_tmp_var                                                
finish                                                                          
cmo/delatt/mo_final/xobj_tmp_var                                                
finish                                                                          
cmo/delatt/mo_final/yobj_tmp_var                                                
finish                                                                          
cmo/delatt/mo_final/zobj_tmp_var                                                
finish                                                                          
COMPUTE distance_field: Done.                                                   
 Enter a command
# Output min/max values of distance field (dfield)                              
 Enter a command
cmo/printatt/mo_final/dfield/minmax                                             
Warning: nelements = 0                                                          
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 dfield             6.781431095E-03  2.804499886E+00 2.797718455E+00      4374  
 
 Enter a command
pset/pdel/attribute dfield/1,0,0/lt H_PRIME                                     
 
 THE PSET  pdel  HAS        140 POINTS                                          
 Enter a command
# Delete any vertices with distance field less than H_PRIME                     
 Enter a command
rmpoint/pset,get,pdel/inclusive                                                 
 Dudded        140 points plus parents, there are no elements in mesh.          
 Enter a command
rmpoint/compress                                                                
       140 points removed and          0 elements removed.                      
RMPOINT: new point count is         4234                                        
RMPOINT: new element count is          0                                        
 Enter a command
# Copy the intersection vertices into the fracture mesh mo_final                
 Enter a command
copypts/mo_final/mo_line_work                                                   
cmo/addatt/mo_final/a_b/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/mo_final/b_a/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
copypts added nodes       4235 to       4597                                    
 Enter a command
                                                                                
cmo/select/mo_final                                                             
 Enter a command
cmo/setatt/mo_final/imt/1 0 0/ID                                                
Warning: nelements = 0                                                          
      4597 values reset for attribute imt1                                      
 
 Enter a command
cmo/setatt/mo_final/itp/1 0 0/0                                                 
Warning: nelements = 0                                                          
      4597 values reset for attribute itp1                                      
 
 Enter a command
# cmo / printatt / mo_final / -xyz- / minmax                                    
 Enter a command
# Translate the vertices so the bounding box is centered on 0,0,0.              
 Enter a command
trans/1 0 0/zero/xyz                                                            
cmo/addatt/mo_final/transauto/VDOUBLE/scalar/vector/user/permanent/x/0.0        
finish                                                                          
 Enter a command
# Due to slight numerical jitter, all Z values may not be 0. Set them to 0.     
 Enter a command
cmo/setatt/mo_final/zic/1 0 0/0.0                                               
Warning: nelements = 0                                                          
      4597 values reset for attribute zic                                       
 
 Enter a command
cmo/printatt/mo_final/-xyz-/minmax                                              
Warning: nelements = 0                                                          
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                0.000000000E+00  1.000443483E+01 1.000443483E+01      4597  
 yic                0.000000000E+00  7.682865511E+00 7.682865511E+00      4597  
 zic                0.000000000E+00  0.000000000E+00 0.000000000E+00      4597  
 
 Enter a command
# Connect the 2D planar (XY-plane) vertices to create a Delaunay triangular mesh
 Enter a command
# with an exterior boundary that is the convex hull of the vertices in mo_final.
 Enter a command
connect                                                                         
 Coordinates of enclosing triangle are:                                         
          -0.17508D+02-0.12293D+02-0.00000D+00                                  
           0.27512D+02-0.13445D+02-0.00000D+00                                  
           0.50522D+01 0.48861D+02 0.00000D+00                                  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
recon/0                                                                         
RECON2D reconnection loop2d:     1                                              
RECON: done.                                                                    
finish                                                                          
LaGriT FINISH: recon 0 for connect 2d                                           
 
 Enter a command
cmo/setatt/mo_final/itetclr/1 0 0/ID                                            
      8996 values reset for attribute itetclr                                   
 
 Enter a command
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
 Enter a command
# Translate back to the original coordinates.                                   
 Enter a command
trans/1 0 0/original/xyz                                                        
 Enter a command
cmo/printatt/mo_final/-xyz-/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic               -4.898054550E+00  5.106380283E+00 1.000443483E+01      4597  
 yic               -6.327293628E+00  1.355571883E+00 7.682865511E+00      4597  
 zic               -1.142967658E-01 -1.142967658E-01 0.000000000E+00      4597  
 
 Enter a command
                                                                                
#cmo / delete / mo_line_work                                                    
 Enter a command
cmo/delete/mo_excavate                                                          
     Released Mesh Object: mo_excavate                                          
 Enter a command
cmo/select/mo_final                                                             
 Enter a command
                                                                                
## Massage the mesh where vertices are are not on the boundary and              
 Enter a command
# not within a distance H_EPS of the intersection vertices.                     
 Enter a command
pset/pref/attribute/dfield/1,0,0/lt/H_EPS                                       
 
 THE PSET  pref  HAS        363 POINTS                                          
 Enter a command
pset/pregion/attribute/dfield/1,0,0/gt/H_SCALE2                                 
 
 THE PSET  pregion  HAS       3354 POINTS                                       
 Enter a command
pset/pboundary/attribute/itp/1,0,0/eq/10                                        
 
 THE PSET  pboundary  HAS        196 POINTS                                     
 Enter a command
pset/psmooth/not/pregion pref pboundary                                         
 
 THE PSET  psmooth  HAS       3171 POINTS                                       
 Enter a command
                                                                                
assign///maxiter_sm/1                                                           
cannot find global variable : maxiter_sm                                        
maxiter_sm                       =          1                                   
 Enter a command
smooth/position/esug/pset get psmooth                                           
SMOOTH: position option                                                         
nodes in point set  =       3171                                                
SMOOTH: Smooth 2D triangular mesh using ESUG                                    
 Min. area BEFORE smoothing= 0.8601692E-03                                      
 Max. area BEFORE smoothing= 0.6299528E-01                                      
Iteration=   1; root mean square error= 0.1384532E-01                           
 Min. area AFTER smoothing= 0.8601692E-03                                       
 Max. area AFTER smoothing= 0.5910997E-01                                       
 Enter a command
recon 0                                                                         
RECON2D reconnection loop2d:     1                                              
Recon2d: iteration number=          1 number of flips=         14               
RECON: done.                                                                    
 Enter a command
smooth/position/esug/pset get psmooth                                           
SMOOTH: position option                                                         
nodes in point set  =       3171                                                
SMOOTH: Smooth 2D triangular mesh using ESUG                                    
 Min. area BEFORE smoothing= 0.8601692E-03                                      
 Max. area BEFORE smoothing= 0.5910997E-01                                      
Iteration=   1; root mean square error= 0.1228073E-01                           
 Min. area AFTER smoothing= 0.8601692E-03                                       
 Max. area AFTER smoothing= 0.5807292E-01                                       
 Enter a command
recon 0                                                                         
RECON2D reconnection loop2d:     1                                              
Recon2d: iteration number=          1 number of flips=         14               
RECON: done.                                                                    
 Enter a command
smooth/position/esug/pset get psmooth                                           
SMOOTH: position option                                                         
nodes in point set  =       3171                                                
SMOOTH: Smooth 2D triangular mesh using ESUG                                    
 Min. area BEFORE smoothing= 0.8601692E-03                                      
 Max. area BEFORE smoothing= 0.5807292E-01                                      
Iteration=   1; root mean square error= 0.1124273E-01                           
 Min. area AFTER smoothing= 0.8601692E-03                                       
 Max. area AFTER smoothing= 0.5700765E-01                                       
 Enter a command
recon 1                                                                         
RECON2D reconnection loop2d:     1                                              
Recon2d: iteration number=          1 number of flips=         21               
Max send:        344       477                                                  
Max send:        344       478                                                  
Min send:        917      1276                                                  
Matbld0tri: total neg         2 mincoef=  -4.9832369E-03 maxcoef=   3.2200621E-0
                                                                               1
Negative coeff2d:        sort   edge     vor_coeff        row_node  col_node    
Negative coeff2d:          1       921 -4.9832369E-03       187       186       
Negative coeff2d:          2       917 -4.9832369E-03       186       187       
Edge iteration refine_edge_2d:          1         1                             
Edge-refined tris: before=      8996 after=      8997                           
Max send:        344       477                                                  
Max send:        344       478                                                  
Min send:        917      1276                                                  
Min send:        917      1277                                                  
Matbld0tri: total neg         2 mincoef=  -9.6171170E-02 maxcoef=   3.2200621E-0
                                                                               1
Negative coeff2d:        sort   edge     vor_coeff        row_node  col_node    
Negative coeff2d:          1      1242 -9.6171170E-02       233       186       
Negative coeff2d:          2       917 -9.6171170E-02       186       233       
RECON2D reconnection loop2d:     2                                              
Recon2d: iteration number=          1 number of flips=          1               
Min send:          1         1                                                  
Max send:        344       477                                                  
Max send:        344       478                                                  
RECON: done.                                                                    
 Enter a command
assign///maxiter_sm/10                                                          
cannot find global variable : maxiter_sm                                        
maxiter_sm                       =         10                                   
 Enter a command
                                                                                
                                                                                
###########################################                                     
 Enter a command
# nodes for Intersection / Mesh Connectivity Check dump                         
 Enter a command
cmo/copy/mo_final_check/mo_final                                                
 Enter a command
#                                                                               
 Enter a command
# Define variables that are hard wired for this part of the workflow            
 Enter a command
define/MO_TRI_MESH_SSINT/mo_tri_tmp_subset                                      
 Enter a command
define/MO_LINE_MESH_SSINT/mo_line_tmp_subset                                    
 Enter a command
define/ATT_ID_INTERSECTION_SSINT/b_a                                            
 Enter a command
define/ATT_ID_SOURCE_SSINT/id_node_global                                       
 Enter a command
define/ATT_ID_SINK_SSINT/id_node_tri                                            
 Enter a command
#                                                                               
 Enter a command
# Before subsetting the mesh reate a node attribute containing the integer globa
 Enter a command
cmo/set_id/mo_final_check/node/ATT_ID_SOURCE_SSINT                              
cmo/addatt/mo_final_check id_node_global/VINT/scalar/nnodes/linear/permanent//0 
finish                                                                          
 Enter a command
#                                                                               
 Enter a command
# Subset the triangle mesh based on b_a node attribute ne 0                     
 Enter a command
#                                                                               
 Enter a command
cmo/select/mo_final_check                                                       
 Enter a command
pset/pkeep/attribute/ATT_ID_INTERSECTION_SSINT/1 0 0/ne/0                       
 
 THE PSET  pkeep  HAS        363 POINTS                                         
 Enter a command
pset/pall/seq/1 0 0                                                             
 
 THE PSET  pall  HAS       4598 POINTS                                          
 Enter a command
pset/pdel/not pall pkeep                                                        
 
 THE PSET  pdel  HAS       4235 POINTS                                          
 Enter a command
rmpoint/pset get pdel/exclusive                                                 
 Dudded       3664 points plus parents, plus        7713 elements removed.      
 Enter a command
rmpoint/compress                                                                
      3664 points removed and          0 elements removed.                      
RMPOINT: new point count is          934                                        
RMPOINT: new element count is       1284                                        
 Enter a command
#                                                                               
 Enter a command
# Create an integer node attribute in the line mesh to interpolate the triangle 
 Enter a command
#                                                                               
 Enter a command
cmo/addatt/mo_line_work/ATT_ID_SINK_SSINT/vint/scalar/nnodes                    
 Enter a command
interpolate/voronoi/mo_line_work ATT_ID_SINK_SSINT/1 0 0/mo_final_check ATT_ID_S
OURCE_SSINT                                                                     
nodes in indexed point set  =        363                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.459800000000E+04             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
             92               92             92       25 %                      
            183              183            183       50 %                      
            274              274            274       75 %                      
            363              363            363       100%                      
 
Total Source Nodes:                     934                                     
Total Sink   Nodes:                     363                                     
 
 
interpolate/voronoi done.                                                       
 
cmo kdtree release                                                              
finish                                                                          
 Enter a command
#                                                                               
 Enter a command
# Supress AVS output of a bunch of node attributes                              
 Enter a command
#                                                                               
 Enter a command
cmo/modatt/mo_line_work/imt/ioflag/l                                            
 Enter a command
cmo/modatt/mo_line_work/itp/ioflag/l                                            
 Enter a command
cmo/modatt/mo_line_work/isn/ioflag/l                                            
 Enter a command
cmo/modatt/mo_line_work/icr/ioflag/l                                            
 Enter a command
cmo/modatt/mo_line_work/a_b/ioflag/l                                            
 Enter a command
cmo/modatt/mo_line_work/b_a/ioflag/l                                            
 Enter a command
#                                                                               
 Enter a command
# Output list of intersection nodes with the corresponding node id number from t
 Enter a command
                                                                                
dump/avs2/OUTPUT_INTER_ID_SSINT/mo_line_work/0 0 2 0                            
WARNING: dump/avs  iopt_points=    0                                            
WARNING: dump/avs  iopt_elements=    0                                          
WARNING: dump/avs  iopt_values_node=    2                                       
WARNING: dump/avs  iopt_values_elem=    0                                       
WARNING: dump/avs  will produce non-standard AVS output that                    
WARNING: read/avs may not be able to read.                                      
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
 Enter a command
cmo/delete/mo_line_work                                                         
     Released Mesh Object: mo_line_work                                         
 Enter a command
                                                                                
cmo/delete/mo_final_check                                                       
     Released Mesh Object: mo_final_check                                       
 Enter a command
# nodes for intersection check over                                             
 Enter a command
                                                                                
cmo/select/mo_final                                                             
 Enter a command
                                                                                
##### DEBUG ######                                                              
 Enter a command
# Write out mesh before it is rotate back into its final location               
 Enter a command
# Useful to compare with meshing work-flow if something crashes                 
 Enter a command
#dump / avs2 / tmp_mesh_2D.inp / mo_final / 1 1 1 0                             
 Enter a command
##### DEBUG #####                                                               
 Enter a command
                                                                                
# Rotate fracture back into original plane                                      
 Enter a command
rotateln/1 0 0/nocopy/X1,Y1,Z1/X2,Y2,Z2/THETA/0.,0.,0.,/                        
 Enter a command
cmo/printatt/mo_final/-xyz-/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic               -5.000000000E+00  5.000000000E+00 1.000000000E+01      4598  
 yic               -5.000000000E+00  1.224865343E+00 6.224865343E+00      4598  
 zic               -3.979722077E+00  5.174592812E-01 4.497181358E+00      4598  
 
 Enter a command
                                                                                
# Create cell attributes, xnorm, ynorm, znorm, and fill them with the unit norma
 Enter a command
cmo/addatt/mo_final/unit_area_normal/xyz/vnorm                                  
ADDATT/unit_area_normal: creating new attribute: vnorm                          
 Enter a command
cmo/addatt/mo_final/scalar/xnorm ynorm znorm/vnorm                              
ADDATT/scalar: creating 3 new attributes: xnorm  ynorm  znorm                   
 Enter a command
cmo/DELATT/mo_final/vnorm                                                       
 Enter a command
                                                                                
# Create Family element set                                                     
 Enter a command
cmo/addatt/mo_final/family_id/vint/scalar/nelements                             
 Enter a command
cmo/setatt/mo_final/family_id/1 0 0/FAMILY                                      
      8997 values reset for attribute family_id                                 
 
 Enter a command
                                                                                
# Output mesh in AVS UCD format - required for connectivity checking, is promptl
 Enter a command
dump/OUTFILE_AVS/mo_final                                                       
dump/avs/mesh_1.inp/mo_final                                                    
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
 Enter a command
# Output mesh in LaGriT binary format.                                          
 Enter a command
dump/lagrit/OUTFILE_LG/mo_final                                                 
 Enter a command
                                                                                
quality                                                                         
 
epsilonl, epsilonaspect:   2.7996434E-12  2.1943613E-35                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :         10                          
elements with aspect ratio b/w .5  and 1. :       8987                          
min aspect ratio =  0.3617E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   6.2159940E-11                                                     
---------------------------------------                                         
element volumes b/w  0.8602E-03 and  0.1990E-02:       722                      
element volumes b/w  0.1990E-02 and  0.4604E-02:      4219                      
element volumes b/w  0.4604E-02 and  0.1065E-01:      2737                      
element volumes b/w  0.1065E-01 and  0.2464E-01:      1148                      
element volumes b/w  0.2464E-01 and  0.5701E-01:       171                      
min volume =   8.6016917E-04  max volume =   5.7007653E-02                      
-----------------------------------------------------------                     
      8997 total elements evaluated.                                            
 
 Enter a command
cmo/delete/mo_final                                                             
     Released Mesh Object: mo_final                                             
 Enter a command
cmo/status/brief                                                                
No Mesh Objects defined.                                                        
 
 
 Enter a command
finish                                                                          
LaGriT successfully completed                                                   
